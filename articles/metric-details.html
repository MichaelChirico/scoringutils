<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="scoringutils">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/5/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Details on the metrics implemented in `scoringutils` • scoringutils</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Details on the metrics implemented in `scoringutils`">
<meta property="og:description" content="scoringutils">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/5/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/5/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
<script src="../darkswitch.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">scoringutils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/getting-started.html">Getting started</a>
    <a class="dropdown-item" href="../articles/metric-details.html">Details on the metrics implemented in `scoringutils`</a>
    <a class="dropdown-item" href="../articles/scoring-forecasts-directly.html">Scoring forecasts directly</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/epiforecasts/scoringutils/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>

        
        <li>
          <a class="external-link nav-link" id="css-toggle-btn" aria-label="github">
            <span class="fas fa fas fa-adjust fa-lg"></span>
          </a>
        </li>
        
        
        
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="metric-details_files/kePrint-0.0.1/kePrint.js"></script><link href="metric-details_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Details on the metrics implemented in `scoringutils`</h1>
                        <h4 data-toc-skip class="author">Nikos Bosse</h4>
            
            <h4 data-toc-skip class="date">2022-04-28</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/epiforecasts/scoringutils/blob/HEAD/vignettes/metric-details.Rmd" class="external-link"><code>vignettes/metric-details.Rmd</code></a></small>
      <div class="d-none name"><code>metric-details.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="applicability-of-different-metrics-for-different-types-of-forecasts-and-formats">Applicability of different metrics for different types of forecasts and formats<a class="anchor" aria-label="anchor" href="#applicability-of-different-metrics-for-different-types-of-forecasts-and-formats"></a>
</h2>
<p>This table gives an overview for when which metric can be applied and gives a very brief description. Note that this table on shows the metrics as implemented in <code>scoringutils</code>. For example, only scoring of sample-based discrete and continuous distributions is implemented in <code>scoringutils</code>, but closed-form solutions often exist (e.g. in the <code>scoringRules</code> package).</p>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Sample-based
</div>
</th>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="3">
</th>
</tr>
<tr>
<th style="text-align:left;">
Metric
</th>
<th style="text-align:center;">
D
</th>
<th style="text-align:center;">
C
</th>
<th style="text-align:center;">
B
</th>
<th style="text-align:center;">
Q
</th>
<th style="text-align:left;">
Info
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;width: 3.2cm; background-color: Gainsboro !important;">
Absolute error
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:center;width: 1.3cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:left;width: 6.0cm; background-color: Gainsboro !important;">
Suitable for scoring the median of a predictive distribution
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; ">
Absolute error
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:center;width: 1.3cm; ">
n
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:left;width: 6.0cm; ">
Suitable for scoring the median of a predictive distribution
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; background-color: Gainsboro !important;">
Squared error
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:center;width: 1.3cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:left;width: 6.0cm; background-color: Gainsboro !important;">
Suitable for scoring the mean of a predictive distribution.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; ">
Squared error
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:center;width: 1.3cm; ">
n
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:left;width: 6.0cm; ">
Suitable for scoring the mean of a predictive distribution.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; background-color: Gainsboro !important;">
(Continuous) ranked probability score (CRPS)
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:center;width: 1.3cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:left;width: 6.0cm; background-color: Gainsboro !important;">
Proper scoring rule (smaller is better), takes entire predictive distribution into account (global), penalises over- and under-confidence similarly, stable handling of outliers
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; ">
Log score
</td>
<td style="text-align:center;width: 1.5cm; ">
n
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:center;width: 1.3cm; ">
y
</td>
<td style="text-align:center;width: 1.5cm; ">
n
</td>
<td style="text-align:left;width: 6.0cm; ">
Proper scoring rule, smaller is better, only evaluates predictive density at observed value (local), penalises over-confidence severely, susceptible to outliers
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; background-color: Gainsboro !important;">
(Weighted) interval score (WIS)
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:center;width: 1.3cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:left;width: 6.0cm; background-color: Gainsboro !important;">
Proper scoring rule, smaller is better, similar properties to CRPS and converges to CRPS for an increasing number of equally spaced intervals
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; ">
Dawid-Sebastiani score (DSS)
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:center;width: 1.3cm; ">
n
</td>
<td style="text-align:center;width: 1.5cm; ">
n
</td>
<td style="text-align:left;width: 6.0cm; ">
Proper scoring rule, smaller is better, evaluates forecast based on mean and sd of predictive distribution (global), susceptible to outliers, penalises over-confidence severely
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; background-color: Gainsboro !important;">
Brier score (BS)
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.3cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:left;width: 6.0cm; background-color: Gainsboro !important;">
Proper scoring rule, smaller is better, equals CRPS for binary outcomes, penalises over- and under-confidence similarly
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; ">
Interval coverage
</td>
<td style="text-align:center;width: 1.5cm; ">
n
</td>
<td style="text-align:center;width: 1.5cm; ">
n
</td>
<td style="text-align:center;width: 1.3cm; ">
n
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:left;width: 6.0cm; ">
Proportion of observations falling inside a given central prediction interval (= ‘empirical interval coverage’). Used to assess probabilistic calibration.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; background-color: Gainsboro !important;">
Coverage deviation
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.3cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:left;width: 6.0cm; background-color: Gainsboro !important;">
Average difference between empirical and nominal interval coverage (coverage that should have been realised)
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; ">
Quantile coverage
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:center;width: 1.3cm; ">
n
</td>
<td style="text-align:center;width: 1.5cm; ">
n
</td>
<td style="text-align:left;width: 6.0cm; ">
Proportion of observations below a given quantile of the predictive CDF. Used to assess probabilistic calibration.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; background-color: Gainsboro !important;">
Dispersion
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.3cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:left;width: 6.0cm; background-color: Gainsboro !important;">
Dispersion component of WIS, measures width of predictive intervals.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; ">
Median Absolute Deviation (Dispersion)
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:center;width: 1.3cm; ">
n
</td>
<td style="text-align:center;width: 1.5cm; ">
n
</td>
<td style="text-align:left;width: 6.0cm; ">
Measure for dispersion of a forecast: median of the absolute deviations from the median
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; background-color: Gainsboro !important;">
Under-, Over-prediction
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.3cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:left;width: 6.0cm; background-color: Gainsboro !important;">
Absolute amount of over-or under-prediction (components of WIS)
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; ">
Under-, Over-prediction
</td>
<td style="text-align:center;width: 1.5cm; ">
n
</td>
<td style="text-align:center;width: 1.5cm; ">
n
</td>
<td style="text-align:center;width: 1.3cm; ">
n
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:left;width: 6.0cm; ">
Absolute amount of over-or under-prediction (components of WIS)
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; background-color: Gainsboro !important;">
Probability integral transform (PIT)
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:center;width: 1.3cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:left;width: 6.0cm; background-color: Gainsboro !important;">
PIT transform is the CDF of the predictive distribution evaluated at the observed values. PIT values should be uniform.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; ">
Dispersion
</td>
<td style="text-align:center;width: 1.5cm; ">
n
</td>
<td style="text-align:center;width: 1.5cm; ">
n
</td>
<td style="text-align:center;width: 1.3cm; ">
n
</td>
<td style="text-align:center;width: 1.5cm; ">
y
</td>
<td style="text-align:left;width: 6.0cm; ">
Dispersion component of WIS, measures width of predictive intervals.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; background-color: Gainsboro !important;">
Bias
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:center;width: 1.3cm; background-color: Gainsboro !important;">
n
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
y
</td>
<td style="text-align:left;width: 6.0cm; background-color: Gainsboro !important;">
Measure of relative tendency to over- or under-predict (aspect of calibration), bounded between -1 and 1 (ideally 0)
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; ">
Mean score ratio
</td>
<td style="text-align:center;width: 1.5cm; ">
~
</td>
<td style="text-align:center;width: 1.5cm; ">
~
</td>
<td style="text-align:center;width: 1.3cm; ">
~
</td>
<td style="text-align:center;width: 1.5cm; ">
~
</td>
<td style="text-align:left;width: 6.0cm; ">
Compares performance of two models. Properties depend on the metric chosen for the comparison.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; background-color: Gainsboro !important;">
(Scaled) Relative skill
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
~
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
~
</td>
<td style="text-align:center;width: 1.3cm; background-color: Gainsboro !important;">
~
</td>
<td style="text-align:center;width: 1.5cm; background-color: Gainsboro !important;">
~
</td>
<td style="text-align:left;width: 6.0cm; background-color: Gainsboro !important;">
Ranks models based on pairwise comparisons, useful in the context of missing forecasts. Properties depend on the metric chosen for the comparison.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.2cm; ">
(Scaled) Relative skill
</td>
<td style="text-align:center;width: 1.5cm; ">
~
</td>
<td style="text-align:center;width: 1.5cm; ">
~
</td>
<td style="text-align:center;width: 1.3cm; ">
~
</td>
<td style="text-align:center;width: 1.5cm; ">
~
</td>
<td style="text-align:left;width: 6.0cm; ">
Ranks models based on pairwise comparisons, useful in the context of missing forecasts. Properties depend on the metric chosen for the comparison.
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="detailed-explanation-of-the-metrics-implemented-in-scoringutils">Detailed explanation of the metrics implemented in <code>scoringutils</code><a class="anchor" aria-label="anchor" href="#detailed-explanation-of-the-metrics-implemented-in-scoringutils"></a>
</h2>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
Metric
</th>
<th style="text-align:left;">
Explanation
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;width: 3.5cm; background-color: Gainsboro !important;">
CRPS (Continuous) ranked probability score
</td>
<td style="text-align:left;background-color: Gainsboro !important;width: 15.5cm; ">
<p>The crps is a proper scoring rule that generalises the absolute error to probabilistic forecasts. It measures the ‘distance’ of the predictive distribution to the observed data-generating distribution. The CRPS is given as <span class="math display">\[\text{CRPS}(F, y) = \int_{-\infty}^\infty \left( F(x) - 1(x \geq y) \right)^2 dx,\]</span> where y is the true observed value and F the CDF of predictive distribution. Often An alternative representation is used: <span class="math display">\[ \text{CRPS}(F, y) = \frac{1}{2} \mathbb{E}_{F} |X - X'| - \mathbb{E}_P |X - y|,\]</span> where <span class="math inline">\(X\)</span> and <span class="math inline">\(X'\)</span> are independent realisations from the predictive distributions <span class="math inline">\(F\)</span> with finite first moment and <span class="math inline">\(y\)</span> is the true value. In this represenation we can simply replace <span class="math inline">\(X\)</span> and <span class="math inline">\(X'\)</span> by samples sum over all possible combinations to obtain the CRPS. For integer-valued forecasts, the RPS is given as <span class="math display">\[ \text{RPS}(F, y) = \sum_{x = 0}^\infty (F(x) - 1(x \geq y))^2. \]</span></p>
<strong>Usage and caveats</strong> Smaller values are better. The crps is a good choice for most practical purposes that involve decision making, as it takes the entire predictive distribution into account. If two forecasters assign the same probability to the true event <span class="math inline">\(y\)</span>, then the forecaster who assigned high probability to events far away from <span class="math inline">\(y\)</span> will still get a worse score. The crps (in contrast to the log score) can at times be quite lenient towards extreme mispredictions. Also, due to it’s similarity to the absolute error, the level of scores depend a lot on the absolute value of what is predicted, which makes it hard to compare scores of forecasts for quantities that are orders of magnitude apart.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; ">
Log score
</td>
<td style="text-align:left;width: 15.5cm; ">
<p>The Log score is a proper scoring rule that is simply compuated as the log of the predictive density evaluated at the true observed value. It is given as <span class="math display">\[ \text{log score} = \log f(y), \]</span> where <span class="math inline">\(f\)</span> is the predictive density function and y is the true value. For integer-valued forecasts, the log score can be computed as <span class="math display">\[ \text{log score} = \log p_y, \]</span> where <span class="math inline">\(p_y\)</span> is the probability assigned to outcome p by the forecast F.</p>
<strong>Usage and caveats</strong>: Larger values are better, but sometimes the sign is reversed. The log score is ensitive to outliers, as individual negative log score contributions quickly can become very large if the event falls in the tails of the predictive distribution, where <span class="math inline">\(f(y)\)</span> (or <span class="math inline">\(p_y\)</span>) is close to zero. Whether or not that is desirable depends ont the application. In scoringutils, the log score cannot be used for integer-valued forecasts, as the implementation requires a predictive density. In contrast to the crps, the log score is a local scoring rule: it’s value only depends only on the probability that was assigned to the actual outcome. This property may be desirable for inferential purposes, for example in a Bayesian context (Winkler et al., 1996). In settings where forecasts inform decision making, it may be more appropriate to score forecasts based on the entire predictive distribution.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; background-color: Gainsboro !important;">
WIS (Weighted) interval score
</td>
<td style="text-align:left;background-color: Gainsboro !important;width: 15.5cm; ">
<p>The (weighted) interval score is a proper scoring rule for quantile forecasts that converges to the crps for an increasing number of intervals. The score can be decomposed into a sharpness (uncertainty) component and penalties for over- and underprediction. For a single interval, the score is computed as <span class="math display">\[IS_\alpha(F,y) = (u-l) + \frac{2}{\alpha} \cdot (l-y) \cdot 1(y \leq l) + \frac{2}{\alpha} \cdot (y-u) \cdot 1(y \geq u), \]</span> where <span class="math inline">\(1()\)</span> is the indicator function, <span class="math inline">\(y\)</span> is the true value, and <span class="math inline">\(l\)</span> and <span class="math inline">\(u\)</span> are the <span class="math inline">\(\frac{\alpha}{2}\)</span> and <span class="math inline">\(1 - \frac{\alpha}{2}\)</span> quantiles of the predictive distribution <span class="math inline">\(F\)</span>, i.e. the lower and upper bound of a single prediction interval. For a set of <span class="math inline">\(K\)</span> prediction intervals and the median <span class="math inline">\(m\)</span>, the score is computed as a weighted sum, <span class="math display">\[WIS = \frac{1}{K + 0.5} \cdot (w_0 \cdot |y - m| + \sum_{k = 1}^{K} w_k \cdot IS_{\alpha}(F, y)),\]</span> where <span class="math inline">\(w_k\)</span> is a weight for every interval. Usually, <span class="math inline">\(w_k = \frac{\alpha_k}{2}\)</span> and <span class="math inline">\(w_0 = 0.5\)</span>.</p>
<strong>Usage and caveats</strong>: Smaller scores are better. Applicable to all quantile forecasts, takes the entire predictive distribution into account. Just as the crps, the wis is based on measures of absolute error. When averaging across multiple targets, it will therefore be dominated by targets with higher absolute values. The decomposition into sharpness, over- and underprediction make it easy to interpret scores and use them for model improvement.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; ">
DSS Dawid-Sebastiani score
</td>
<td style="text-align:left;width: 15.5cm; ">
<p>The Dawid-Sebastiani-Score is a proper scoring rule proposed that only relies on the first moments of the predictive distribution and is therefore easy to compute. It is given as</p>
<p><span class="math display">\[\text{dss}(F, y) = \left( \frac{y - \mu}{\sigma} \right)^2 + 2 \cdot \log \sigma,\]</span> where <span class="math inline">\(F\)</span> is the predictive distribution with mean <span class="math inline">\(\mu\)</span> and standard deviation <span class="math inline">\(\sigma\)</span> and <span class="math inline">\(y\)</span> is the true observed value.</p>
<strong>Usage and caveats</strong> The dss is applicable to continuous and integer forecasts and easy to compute. Apart from the ease of computation we see little advantage in using it over other scores.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; background-color: Gainsboro !important;">
Brier score
</td>
<td style="text-align:left;background-color: Gainsboro !important;width: 15.5cm; ">
<p>Proper scoring rule for binary forecasts. The Brier score is computed as <span class="math display">\[\text{Brier Score} = \frac{1}{N} \sum_{n = 1}^{N} (f_n - y_n),\]</span> where <span class="math inline">\(f_n\)</span>, with <span class="math inline">\(n = 1, \dots, N\)</span> are the predicted probablities that the corresponding events, <span class="math inline">\(y_n \in (0, 1)\)</span> will be equal to one.)</p>
<strong>Usage</strong>: Applicable to all binary forecasts.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; ">
Interval coverage
</td>
<td style="text-align:left;width: 15.5cm; ">
<p>Interval coverage measures the proportion of observed values that fall in a given prediction interval range. Interval coverage for a single prediction interval range can be calculated as <span class="math display">\[IC_{\alpha} = \text{nominal coverage} - \text{empirical coverage},\]</span> where nominal coverage is <span class="math inline">\(1 - \alpha\)</span> and empirical coverage is the proportion of true values actually covered by all <span class="math inline">\(1 - \alpha\)</span> prediction intervals.</p>
<p>To summarise interval coverage over different over multiple interval ranges, we can compute coverage deviation defined as the mean interval coverage over all <span class="math inline">\(K\)</span> interval ranges <span class="math inline">\(\alpha_k\)</span> with <span class="math inline">\(k = 1, \dots, K\)</span>: <span class="math display">\[\text{Coverage deviation} = \frac{1}{K} \sum_{k = 1}^{K} \text{IC}_{\alpha_k}\]</span></p>
<strong>Usage</strong>: Interval coverage for a set of chosen intervals, (e.g. 50% and 90%) gives a good indication of marginal calibration and is easy to interpret. Reporting coverage deviation has the advantage of summarising calibration in a single number, but loses some of the nuance.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; background-color: Gainsboro !important;">
Quantile coverage
</td>
<td style="text-align:left;background-color: Gainsboro !important;width: 15.5cm; ">
<p>Quantile coverage for a given quantile level is the proportion of true values smaller than the predictions corresponding to that quantile level.</p>
<strong>Usage</strong>: Quantile coverage is similar to interval coverage, but conveys more information. For example, it allows us to look at the 5% and 95% quantile separately, instead of jointly at the 90% prediction interval). This helps to diagnose whether it is the upper or lower end of a prediction interval that is causing problems. Plots of quantile coverage are conceptually very similar to PIT histograms.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; ">
Probability integral transform (PIT)
</td>
<td style="text-align:left;width: 15.5cm; ">
<p>The probability integral transform (PIT, Dawid 1984) represents a succinct way to visualise deviations between the predictive distribution <span class="math inline">\(F\)</span> and the true data-generating distribution <span class="math inline">\(G\)</span>. The idea is to transform the observed values such that agreement between forecasts and data can then be examined by observing whether or not the transformed values follow a uniform distribution. The PIT is given by <span class="math display">\[u = F (y),\]</span> where <span class="math inline">\(u\)</span> is the transformed variable and <span class="math inline">\(F(y)\)</span> is the predictive distribution <span class="math inline">\(F\)</span> evaluated at the true observed value <span class="math inline">\(y\)</span>. If <span class="math inline">\(F = G\)</span>, then <span class="math inline">\(u\)</span> follows a uniform distribution.</p>
<p>For integer outcomes, the PIT is no longer uniform even when forecasts are ideal. Instead, a randomised PIT can be used: <span class="math display">\[u = P(y) + v \cdot (P(y) - P(y - 1) ),\]</span> where <span class="math inline">\(y\)</span> is again the observed value <span class="math inline">\(P()\)</span> is the cumulative probability assigned to all values smaller or equal to <span class="math inline">\(y\)</span> (where <span class="math inline">\(P(-1) = 0\)</span> by definition, and <span class="math inline">\(v\)</span> is a standard uniform variable independent of <span class="math inline">\(y\)</span>. If <span class="math inline">\(P\)</span> is equal to the true data-generating distribution function, then <span class="math inline">\(u\)</span> is standard uniform. also propose a non-randomised version of the PIT for count data that could be used alternatively.</p>
<strong>Usage</strong>: One can plot a histogram of <span class="math inline">\(u\)</span> values to look for deviations from uniformity. U-shaped histograms often result from predictions that are too narrow, while hump-shaped histograms indicate that predictions may be too wide. Biased predictions will usually result in a triangle-shaped histogram. One can also test for deviations from normality, using for example an Anderson-Darling test. This, however, proves to be overly strict in practice and even slight deviations from perfect calibration are punished in a way that makes it very hard to compare models at all. In addition, errors from forecasts may be correlated (i.e. forecasts made on a given date), potentially violating the assumptions of the Anderson-Darling test. We therefore do not recommend it for most use cases.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; background-color: Gainsboro !important;">
Sharpness
</td>
<td style="text-align:left;background-color: Gainsboro !important;width: 15.5cm; ">
<p>Sharpness is the ability to produce narrow forecasts and is a feature of the forecasts only and does not depend on the observations. Sharpness is therefore only of interest conditional on calibration: a very precise forecast is not useful if it is clearly wrong.</p>
<p>As suggested by Funk et al. (2019), we measure sharpness for continuous and integer forecasts represented by predictive samples as the normalised median absolute deviation about the median (MADN) ), i.e. <span class="math display">\[ S(F) = \frac{1}{0.675} \cdot \text{median}(|x - \text{median(x)}|), \]</span> where <span class="math inline">\(x\)</span> is the vector of all predictive samples and <span class="math inline">\(\frac{1}{0.675}\)</span> is a normalising constant. If the predictive distribution <span class="math inline">\(F\)</span> is the CDF of a normal distribution, then sharpness will equal the standard deviation of <span class="math inline">\(F\)</span>.</p>
For quantile forecasts we can directly use the sharpness component of the weighted interval score. Sharpness is then simply the weighted mean of the widths of the central prediction intervals.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; ">
Bias
</td>
<td style="text-align:left;width: 15.5cm; ">
<p>Bias is a measure of the tendency of a forecaster to over- or underpredict. For continuous forecasts, bias is given as <span class="math display">\[B(F, y) = 1 - 2 \cdot (F (y)), \]</span> where <span class="math inline">\(F\)</span> is the CDF of the predictive distribution and <span class="math inline">\(y\)</span> is the observed value.</p>
<p>For integer-valued forecasts, bias can be calculated as <span class="math display">\[B(P, y) = 1 - (P(y) + P(y + 1)), \]</span> where <span class="math inline">\(P(y)\)</span> is the cumulative probability assigned to all outcomes smaller or equal to <span class="math inline">\(y\)</span>.</p>
<p>For quantile forecasts, Bias can be calculated as the maximum percentile rank for which the prediction is smaller than <span class="math inline">\(y\)</span>, if the true value is smaller than the median of the predictive distribution. If the true value is above the median of the predictive distribution, then bias is the minimum percentile rank for which the corresponding quantile is still larger than the true value. If the true value is exactly the median, bias is zero. For a large enough number of quantiles, the percentile rank will equal the proportion of predictive samples below the observed true value, and this metric coincides with the one for continuous forecasts.</p>
<strong>Usage</strong>: In contrast to the over- and underprediction penalties of the interval score it is bound between 0 and 1 and represents the tendency of forecasts to be biased rather than the absolute amount of over- and underprediction. It is therefore a more robust measurement, but harder to interpet. It largely depends on the application whether one is more interested in the tendency to be biased or in the absolute value of over- and underpredictions.
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; background-color: Gainsboro !important;">
Mean score ratio
</td>
<td style="text-align:left;background-color: Gainsboro !important;width: 15.5cm; ">
<p>The mean score ratio is used to compare two models on the overlapping set of forecast targets for which both models have made a prediction. The mean score ratio is calculated as the mean score achieved by the first model over the mean score achieved by the second model. More precisely, for two models <span class="math inline">\(i, j\)</span>, we determine the set of overlapping forecasts, denoted by <span class="math inline">\(\mathcal{A}_{ij}\)</span> and compute the mean score ratio <span class="math inline">\(\theta_{ij}\)</span> as <span class="math display">\[\theta_{ij} =\frac{\text{mean score model } i \text{ on } \mathcal{A}_{ij}}{\text{mean score model } j \text{ on } \mathcal{A}_{ij}}.\]</span> The mean score ratio can in principle be computed for any arbitrary score.</p>
<strong>Usage</strong>: Mean scores ratios are usually calculated in the context of pairwise comparisons, where a set of models is compared by looking at mean score ratios of all possible parings. Whether smaller or larger values are better depends on the orientation of the original score used
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; ">
Relative skill
</td>
<td style="text-align:left;width: 15.5cm; ">
<p>Relative skill scores can be used to obtain a ranking of models based on pairwise comparisons between all models. To compute the relative skill <span class="math inline">\(\theta_i\)</span> of model <span class="math inline">\(i\)</span>, we take the geometric mean of all mean score ratios that involve model <span class="math inline">\(i\)</span>, i.e. <span class="math display">\[ \theta_{i} = \left(\prod_{m = 1}^M \theta_{im}\right)^{1/M}, \]</span> where M is the number of models.</p>
<strong>Usage and caveats</strong>: Relative skill is a helpful way to obtain a model ranking. Whether smaller or larger values are better depends on the orientation of the original score used. It is in principle relatively robust against biases that arise when models only forecast some of the available targets and is a reasonable way to handle missing forecasts. One possible precautionary measure to reduces issues with missing forecasts is to only compare models that have forecasted at least half of all possible targets (this ensures that there is always an overlap between models). If there is no overlap between models, the relative skill implicitly estimates how a model would have forecasted on those missing targets.
</td>
</tr>
</tbody>
</table>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://followtheargument.org/" class="external-link">Nikos Bosse</a>, <a href="https://www.samabbott.co.uk/" class="external-link">Sam Abbott</a>, Hugo Gruson.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.9000.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
