<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Evaluate forecasts in a Binary Format — eval_forecasts_binary • scoringutils</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Evaluate forecasts in a Binary Format — eval_forecasts_binary"><meta property="og:description" content="Evaluate forecasts in a Binary Format"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">scoringutils</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/scoringutils.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/epiforecasts/scoringutils/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Evaluate forecasts in a Binary Format</h1>
    <small class="dont-index">Source: <a href="https://github.com/epiforecasts/scoringutils/blob/HEAD/R/eval_forecasts_binary.R" class="external-link"><code>R/eval_forecasts_binary.R</code></a></small>
    <div class="hidden name"><code>eval_forecasts_binary.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Evaluate forecasts in a Binary Format</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">eval_forecasts_binary</span><span class="op">(</span>
  <span class="va">data</span>,
  <span class="va">by</span>,
  <span class="va">summarise_by</span>,
  <span class="va">metrics</span>,
  <span class="va">quantiles</span>,
  <span class="va">sd</span>,
  <span class="va">summarised</span>,
  <span class="va">verbose</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>A data.frame or data.table with the predictions and observations.
Note: it is easiest to have a look at the example files provided in the
package and in the examples below.
The following columns need to be present:</p><ul><li><p><code>true_value</code> - the true observed values</p></li>
<li><p><code>prediction</code> - predictions or predictive samples for one
true value. (You only don't need to provide a prediction column if
you want to score quantile forecasts in a wide range format.)</p></li>
</ul><p>For integer and continuous forecasts a <code>sample</code> column is needed:</p><ul><li><p><code>sample</code> - an index to identify the predictive samples in the
prediction column generated by one model for one true value. Only
necessary for continuous and integer forecasts, not for
binary predictions.</p></li>
</ul><p>For quantile forecasts the data can be provided in variety of formats. You
can either use a range-based format or a quantile-based format. (You can
convert between formats using <code><a href="quantile_to_range_long.html">quantile_to_range_long()</a></code>,
<code><a href="range_long_to_quantile.html">range_long_to_quantile()</a></code>,
<code><a href="sample_to_range_long.html">sample_to_range_long()</a></code>,
<code><a href="sample_to_quantile.html">sample_to_quantile()</a></code>)
For a quantile-format forecast you should provide:</p><ul><li><p><code>prediction</code>: prediction to the corresponding quantile</p></li>
<li><p><code>quantile</code>: quantile to which the prediction corresponds
For a range format (long) forecast you need</p></li>
<li><p><code>prediction</code>: the quantile forecasts</p></li>
<li><p><code>boundary</code>: values should be either "lower" or "upper", depending
on whether the prediction is for the lower or upper bound of a given range</p></li>
<li><p><code>range</code> the range for which a forecast was made. For a 50% interval
the range should be 50. The forecast for the 25% quantile should have
the value in the <code>prediction</code> column, the value of <code>range</code>
should be 50 and the value of <code>boundary</code> should be "lower".
If you want to score the median (i.e. <code>range = 0</code>), you still
need to include a lower and an upper estimate, so the median has to
appear twice.
Alternatively you can also provide the format in a wide range format.
This format needs:</p></li>
<li><p>pairs of columns called something like 'upper_90' and 'lower_90',
or 'upper_50' and 'lower_50', where the number denotes the interval range.
For the median, you need to provide columns called 'upper_0' and 'lower_0'</p></li>
</ul></dd>
<dt>by</dt>
<dd><p>character vector of columns to group scoring by. This should be the
lowest level of grouping possible, i.e. the unit of the individual
observation. This is important as many functions work on individual
observations. If you want a different level of aggregation, you should use
<code>summarise_by</code> to aggregate the individual scores.
Also not that the pit will be computed using <code>summarise_by</code>
instead of <code>by</code></p></dd>
<dt>summarise_by</dt>
<dd><p>character vector of columns to group the summary by. By
default, this is equal to <code>by</code> and no summary takes place.
But sometimes you may want to to summarise
over categories different from the scoring.
<code>summarise_by</code> is also the grouping level used to compute
(and possibly plot) the probability integral transform(pit).</p></dd>
<dt>metrics</dt>
<dd><p>the metrics you want to have in the output. If <code>NULL</code> (the
default), all available metrics will be computed. For a list of available
metrics see <code><a href="available_metrics.html">available_metrics()</a></code></p></dd>
<dt>quantiles</dt>
<dd><p>numeric vector of quantiles to be returned when summarising.
Instead of just returning a mean, quantiles will be returned for the
groups specified through <code>summarise_by</code>. By default, no quantiles are
returned.</p></dd>
<dt>sd</dt>
<dd><p>if <code>TRUE</code> (the default is <code>FALSE</code>) the standard deviation of all
metrics will be returned when summarising.</p></dd>
<dt>summarised</dt>
<dd><p>Summarise arguments (i.e. take the mean per group
specified in group_by. Default is <code>TRUE.</code></p></dd>
<dt>verbose</dt>
<dd><p>print out additional helpful messages (default is <code>TRUE</code>)</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A data.table with appropriate scores. For more information see
<code><a href="eval_forecasts.html">eval_forecasts()</a></code></p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Nikos Bosse <a href="mailto:nikosbosse@gmail.com">nikosbosse@gmail.com</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Probability Forecast for Binary Target</span></span>
<span class="r-in"><span class="va">binary_example</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setDT.html" class="external-link">setDT</a></span><span class="op">(</span><span class="fu">scoringutils</span><span class="fu">::</span><span class="va"><a href="binary_example_data.html">binary_example_data</a></span><span class="op">)</span></span>
<span class="r-in"><span class="va">eval</span> <span class="op">&lt;-</span> <span class="fu">scoringutils</span><span class="fu">::</span><span class="fu"><a href="eval_forecasts.html">eval_forecasts</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">binary_example</span>,</span>
<span class="r-in">                                     summarise_by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"model"</span><span class="op">)</span>,</span>
<span class="r-in">                                     quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span><span class="op">)</span>, sd <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">                                     verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Nikos Bosse, Sam Abbott, Hugo Gruson, Sebastian Funk.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

