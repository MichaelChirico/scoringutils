<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Provides a collection of metrics and proper scoring rules (Tilmann Gneiting &amp; Adrian E Raftery (2007) &lt;doi:10.1198/016214506000001437&gt;, Jordan, A., Krüger, F., &amp; Lerch, S. (2019) &lt;doi:10.18637/jss.v090.i12&gt;) within a consistent framework for evaluation, comparison and visualisation of forecasts. In addition to proper scoring rules, functions are provided to assess bias, sharpness and calibration (Sebastian Funk, Anton Camacho, Adam J. Kucharski, Rachel Lowe, Rosalind M. Eggo, W. John Edmunds (2019) &lt;doi:10.1371/journal.pcbi.1006785&gt;) of forecasts. Several types of predictions (e.g. binary, discrete, continuous) which may come in different formats (e.g. forecasts represented by predictive samples or by quantiles of the predictive distribution) can be evaluated. Scoring metrics can be used either through a convenient data.frame format, or can be applied as individual functions in a vector / matrix format. All functionality has been implemented with a focus on performance and is robustly tested. Find more information about the package in the accompanying paper (&lt;doi:10.48550/arXiv.2205.07090&gt;).">
<title>Utilities for Scoring and Assessing Predictions • scoringutils</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Utilities for Scoring and Assessing Predictions">
<meta property="og:description" content="Provides a collection of metrics and proper scoring rules (Tilmann Gneiting &amp; Adrian E Raftery (2007) &lt;doi:10.1198/016214506000001437&gt;, Jordan, A., Krüger, F., &amp; Lerch, S. (2019) &lt;doi:10.18637/jss.v090.i12&gt;) within a consistent framework for evaluation, comparison and visualisation of forecasts. In addition to proper scoring rules, functions are provided to assess bias, sharpness and calibration (Sebastian Funk, Anton Camacho, Adam J. Kucharski, Rachel Lowe, Rosalind M. Eggo, W. John Edmunds (2019) &lt;doi:10.1371/journal.pcbi.1006785&gt;) of forecasts. Several types of predictions (e.g. binary, discrete, continuous) which may come in different formats (e.g. forecasts represented by predictive samples or by quantiles of the predictive distribution) can be evaluated. Scoring metrics can be used either through a convenient data.frame format, or can be applied as individual functions in a vector / matrix format. All functionality has been implemented with a focus on performance and is robustly tested. Find more information about the package in the accompanying paper (&lt;doi:10.48550/arXiv.2205.07090&gt;).">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">scoringutils</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.2.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/scoringutils.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/metric-details.html">Details on the metrics implemented in `scoringutils`</a>
    <a class="dropdown-item" href="articles/scoring-forecasts-directly.html">Scoring forecasts directly</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/epiforecasts/scoringutils/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="scoringutils-utilities-for-scoring-and-assessing-predictions">scoringutils: Utilities for Scoring and Assessing Predictions<a class="anchor" aria-label="anchor" href="#scoringutils-utilities-for-scoring-and-assessing-predictions"></a>
</h1></div>
<!-- badges: start -->

<p><strong>Note</strong>: <a href="https://epiforecasts.io/scoringutils/dev">This documentation</a> refers to the development version of <code>scoringutils</code>. You can also view the <a href="https://epiforecasts.io/scoringutils">documentation of the stable version</a>.</p>
<p>The <code>scoringutils</code> package provides a collection of metrics and proper scoring rules and aims to make it simple to score probabilistic forecasts against observed values.</p>
<p>A good starting point for those wishing to use <code>scoringutils</code> are the vignettes on <a href="https://epiforecasts.io/scoringutils/articles/scoringutils.html">Getting started</a>, <a href="https://epiforecasts.io/scoringutils/articles/metric-details.html">Details on the metrics implemented</a> and <a href="https://epiforecasts.io/scoringutils/articles/scoring-forecasts-directly.html">Scoring forecasts directly</a>.</p>
<p>For a detailed description of the package, its rationale and design, usage examples and how it relates to other packages in the R ecosystem, please see the corresponding paper:</p>
<blockquote>
<p>Nikos I. Bosse, Hugo Gruson, Anne Cori, Edwin van Leeuwen, Sebastian Funk and Sam Abbott (2022). <em><code>Evaluating Forecasts with scoringutils in R</code></em>. arXiv:2205.07090 <a href="https://doi.org/10.48550/arXiv.2205.07090" class="external-link uri">https://doi.org/10.48550/arXiv.2205.07090</a></p>
</blockquote>
<p>For further details on the specific issue of transforming forecasts for scoring see:</p>
<blockquote>
<p>Nikos I. Bosse, Sam Abbott, Anne Cori, Edwin van Leeuwen, Johannes Bracher* and Sebastian Funk* (*: equal contribution) (2023). <em><code>Scoring epidemiological forecasts on transformed scales</code></em>, PLoS Comput Biol 19(8): e1011393 <a href="https://doi.org/10.1371/journal.pcbi.1011393" class="external-link uri">https://doi.org/10.1371/journal.pcbi.1011393</a></p>
</blockquote>
<div class="section level2">
<h2 id="package-overview">Package overview<a class="anchor" aria-label="anchor" href="#package-overview"></a>
</h2>
<p>The <code>scoringutils</code> package offers convenient automated forecast evaluation through the function <code><a href="reference/score.html">score()</a></code>. The function operates on data.frames (it uses <code>data.table</code> internally for speed and efficiency) and can easily be integrated in a workflow based on <code>dplyr</code> or <code>data.table</code>. It also provides experienced users with a set of reliable lower-level scoring metrics operating on vectors/matrices they can build upon in other applications. In addition it implements a wide range of flexible plots designed to cover many use cases.</p>
<p>Where available <code>scoringutils</code> depends on functionality from <code>scoringRules</code> which provides a comprehensive collection of proper scoring rules for predictive probability distributions represented as sample or parametric distributions. For some forecast types, such as quantile forecasts, <code>scoringutils</code> also implements additional metrics for evaluating forecasts. On top of providing an interface to the proper scoring rules implemented in <code>scoringRules</code> and natively, <code>scoringutils</code> also offers utilities for summarising and visualising forecasts and scores, and to obtain relative scores between models which may be useful for non-overlapping forecasts and forecasts across scales.</p>
<p>Predictions can be handled in various formats: <code>scoringutils</code> can handle probabilistic forecasts in either a sample based or a quantile based format. For more detail on the expected input formats please see below. True values can be integer, continuous or binary, and appropriate scores for each of these value types are selected automatically.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the CRAN version of this package using:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"scoringutils"</span><span class="op">)</span></span></code></pre></div>
<p>Install the stable development version of the package with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"scoringutils"</span>, repos <span class="op">=</span> <span class="st">"https://epiforecasts.r-universe.dev"</span><span class="op">)</span></span></code></pre></div>
<p>Install the unstable development from GitHub using the following,</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"epiforecasts/scoringutils"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<p>In this quick start guide we explore some of the functionality of the <code>scoringutils</code> package using quantile forecasts from the <a href="https://covid19forecasthub.eu/" class="external-link">ECDC forecasting hub</a> as an example. For more detailed documentation please see the package vignettes, and individual function documentation.</p>
<div class="section level3">
<h3 id="plotting-forecasts">Plotting forecasts<a class="anchor" aria-label="anchor" href="#plotting-forecasts"></a>
</h3>
<p>As a first step to evaluating the forecasts we visualise them. For the purposes of this example here we make use of <code><a href="reference/plot_predictions.html">plot_predictions()</a></code> to filter the available forecasts for a single model, and forecast date.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_quantile</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/make_NA.html">make_NA</a></span><span class="op">(</span>what <span class="op">=</span> <span class="st">"truth"</span>, </span>
<span>          <span class="va">target_end_date</span> <span class="op">&gt;=</span> <span class="st">"2021-07-15"</span>, </span>
<span>          <span class="va">target_end_date</span> <span class="op">&lt;</span> <span class="st">"2021-05-22"</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/make_NA.html">make_NA</a></span><span class="op">(</span>what <span class="op">=</span> <span class="st">"forecast"</span>,</span>
<span>          <span class="va">model</span> <span class="op">!=</span> <span class="st">"EuroCOVIDhub-ensemble"</span>, </span>
<span>          <span class="va">forecast_date</span> <span class="op">!=</span> <span class="st">"2021-06-28"</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/plot_predictions.html">plot_predictions</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"target_end_date"</span>,</span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"target_type"</span>, <span class="st">"location"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="va">target_type</span> <span class="op">~</span> <span class="va">location</span>, ncol <span class="op">=</span> <span class="fl">4</span>, scales <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span> </span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-4-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="scoring-forecasts">Scoring forecasts<a class="anchor" aria-label="anchor" href="#scoring-forecasts"></a>
</h3>
<p>Forecasts can be easily and quickly scored using the <code><a href="reference/score.html">score()</a></code> function. <code><a href="reference/score.html">score()</a></code> automatically tries to determine the <code>forecast_unit</code>, i.e. the set of columns that uniquely defines a single forecast, by taking all column names of the data into account. However, it is recommended to set the forecast unit manually by specifying the “forecast_unit” argument in <code><a href="reference/as_forecast.html">as_forecast()</a></code> as this may help to avoid errors. This will drop all columns that are neither part of the forecast unit nor part of the columns internally used by <code>scoringutils</code>. The function <code><a href="reference/as_forecast.html">as_forecast()</a></code> processes and validates the inputs. <code><a href="reference/score.html">score()</a></code> returns unsummarised scores, which in most cases is not what the user wants. Here we make use of additional functions from <code>scoringutils</code> to add empirical coverage-levels (<code><a href="reference/add_coverage.html">add_coverage()</a></code>), and scores relative to a baseline model (here chosen to be the EuroCOVIDhub-ensemble model). See the getting started vignette for more details. Finally we summarise these scores by model and target type.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_quantile</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/as_forecast.html">as_forecast</a></span><span class="op">(</span>forecast_unit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"location"</span>, <span class="st">"target_end_date"</span>, <span class="st">"target_type"</span>, <span class="st">"horizon"</span>, <span class="st">"model"</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/add_coverage.html">add_coverage</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/add_pairwise_comparison.html">add_pairwise_comparison</a></span><span class="op">(</span></span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"model"</span>, <span class="st">"target_type"</span><span class="op">)</span>, </span>
<span>    baseline <span class="op">=</span> <span class="st">"EuroCOVIDhub-ensemble"</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/summarise_scores.html">summarise_scores</a></span><span class="op">(</span></span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"model"</span>, <span class="st">"target_type"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/summarise_scores.html">summarise_scores</a></span><span class="op">(</span></span>
<span>    fun <span class="op">=</span> <span class="va">signif</span>, </span>
<span>    digits <span class="op">=</span> <span class="fl">2</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Some rows containing NA values may be removed. This is fine if not unexpected.</span></span>
<span><span class="co">#&gt; Some rows containing NA values may be removed. This is fine if not unexpected.</span></span>
<span><span class="co">#&gt; Some rows containing NA values may be removed. This is fine if not unexpected.</span></span>
<span><span class="co">#&gt; Warning in get_score_names(scores, error = TRUE): The following scores have</span></span>
<span><span class="co">#&gt; been previously computed, but are no longer column names of the data:</span></span>
<span><span class="co">#&gt; `interval_coverage, quantile_coverage, quantile_coverage_deviation`. See</span></span>
<span><span class="co">#&gt; `?get_score_names` for further information.</span></span>
<span></span>
<span><span class="co">#&gt; Warning in get_score_names(scores, error = TRUE): The following scores have</span></span>
<span><span class="co">#&gt; been previously computed, but are no longer column names of the data:</span></span>
<span><span class="co">#&gt; `interval_coverage, quantile_coverage, quantile_coverage_deviation`. See</span></span>
<span><span class="co">#&gt; `?get_score_names` for further information.</span></span>
<span><span class="co">#&gt; Warning in get_score_names(scores): The following scores have been previously</span></span>
<span><span class="co">#&gt; computed, but are no longer column names of the data: `interval_coverage,</span></span>
<span><span class="co">#&gt; quantile_coverage, quantile_coverage_deviation`. See `?get_score_names` for</span></span>
<span><span class="co">#&gt; further information.</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="5%">
<col width="3%">
<col width="7%">
<col width="7%">
<col width="5%">
<col width="3%">
<col width="9%">
<col width="9%">
<col width="12%">
<col width="4%">
<col width="8%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">model</th>
<th align="left">target_type</th>
<th align="right">wis</th>
<th align="right">overprediction</th>
<th align="right">underprediction</th>
<th align="right">dispersion</th>
<th align="right">bias</th>
<th align="right">interval_coverage_50</th>
<th align="right">interval_coverage_90</th>
<th align="right">interval_coverage_deviation</th>
<th align="right">ae_median</th>
<th align="right">wis_relative_skill</th>
<th align="right">wis_scaled_relative_skill</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">EuroCOVIDhub-baseline</td>
<td align="left">Cases</td>
<td align="right">28000</td>
<td align="right">14000.0</td>
<td align="right">10000.0</td>
<td align="right">4100</td>
<td align="right">0.0980</td>
<td align="right">0.33</td>
<td align="right">0.82</td>
<td align="right">-0.120</td>
<td align="right">38000</td>
<td align="right">1.30</td>
<td align="right">1.6</td>
</tr>
<tr class="even">
<td align="left">EuroCOVIDhub-baseline</td>
<td align="left">Deaths</td>
<td align="right">160</td>
<td align="right">66.0</td>
<td align="right">2.1</td>
<td align="right">91</td>
<td align="right">0.3400</td>
<td align="right">0.66</td>
<td align="right">1.00</td>
<td align="right">0.120</td>
<td align="right">230</td>
<td align="right">2.30</td>
<td align="right">3.8</td>
</tr>
<tr class="odd">
<td align="left">EuroCOVIDhub-ensemble</td>
<td align="left">Cases</td>
<td align="right">18000</td>
<td align="right">10000.0</td>
<td align="right">4200.0</td>
<td align="right">3700</td>
<td align="right">-0.0560</td>
<td align="right">0.39</td>
<td align="right">0.80</td>
<td align="right">-0.100</td>
<td align="right">24000</td>
<td align="right">0.82</td>
<td align="right">1.0</td>
</tr>
<tr class="even">
<td align="left">EuroCOVIDhub-ensemble</td>
<td align="left">Deaths</td>
<td align="right">41</td>
<td align="right">7.1</td>
<td align="right">4.1</td>
<td align="right">30</td>
<td align="right">0.0730</td>
<td align="right">0.88</td>
<td align="right">1.00</td>
<td align="right">0.200</td>
<td align="right">53</td>
<td align="right">0.60</td>
<td align="right">1.0</td>
</tr>
<tr class="odd">
<td align="left">UMass-MechBayes</td>
<td align="left">Deaths</td>
<td align="right">53</td>
<td align="right">9.0</td>
<td align="right">17.0</td>
<td align="right">27</td>
<td align="right">-0.0220</td>
<td align="right">0.46</td>
<td align="right">0.88</td>
<td align="right">-0.025</td>
<td align="right">78</td>
<td align="right">0.75</td>
<td align="right">1.3</td>
</tr>
<tr class="even">
<td align="left">epiforecasts-EpiNow2</td>
<td align="left">Cases</td>
<td align="right">21000</td>
<td align="right">12000.0</td>
<td align="right">3300.0</td>
<td align="right">5700</td>
<td align="right">-0.0790</td>
<td align="right">0.47</td>
<td align="right">0.79</td>
<td align="right">-0.070</td>
<td align="right">28000</td>
<td align="right">0.95</td>
<td align="right">1.2</td>
</tr>
<tr class="odd">
<td align="left">epiforecasts-EpiNow2</td>
<td align="left">Deaths</td>
<td align="right">67</td>
<td align="right">19.0</td>
<td align="right">16.0</td>
<td align="right">32</td>
<td align="right">-0.0051</td>
<td align="right">0.42</td>
<td align="right">0.91</td>
<td align="right">-0.045</td>
<td align="right">100</td>
<td align="right">0.98</td>
<td align="right">1.6</td>
</tr>
</tbody>
</table>
<p><code>scoringutils</code> contains additional functionality to transform forecasts, to summarise scores at different levels, to visualise them, and to explore the forecasts themselves. See the package vignettes and function documentation for more information.</p>
<p>You may want to score forecasts based on transformations of the original data in order to obtain a more complete evaluation (see <a href="https://www.medrxiv.org/content/10.1101/2023.01.23.23284722v1" class="external-link">this paper</a> for more information). This can be done using the function <code><a href="reference/transform_forecasts.html">transform_forecasts()</a></code>. In the following example, we truncate values at 0 and use the function <code><a href="reference/log_shift.html">log_shift()</a></code> to add 1 to all values before applying the natural logarithm.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_quantile</span> <span class="op">%&gt;%</span></span>
<span> <span class="va">.</span><span class="op">[</span>, <span class="va">observed</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">observed</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="fl">0</span>, <span class="va">observed</span><span class="op">)</span><span class="op">]</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/transform_forecasts.html">transform_forecasts</a></span><span class="op">(</span>append <span class="op">=</span> <span class="cn">TRUE</span>, fun <span class="op">=</span> <span class="va">log_shift</span>, offset <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="va">score</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/summarise_scores.html">summarise_scores</a></span><span class="op">(</span>by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"model"</span>, <span class="st">"target_type"</span>, <span class="st">"scale"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Some rows containing NA values may be removed. This is fine if not unexpected.</span></span>
<span><span class="co">#&gt; Some rows containing NA values may be removed. This is fine if not unexpected.</span></span>
<span><span class="co">#&gt;                    model target_type   scale         wis overprediction</span></span>
<span><span class="co">#&gt;                   &lt;char&gt;      &lt;char&gt;  &lt;char&gt;       &lt;num&gt;          &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1: EuroCOVIDhub-ensemble       Cases natural 11550.70664    3650.004755</span></span>
<span><span class="co">#&gt; 2: EuroCOVIDhub-baseline       Cases natural 22090.45747    7702.983696</span></span>
<span><span class="co">#&gt; 3:  epiforecasts-EpiNow2       Cases natural 14438.43943    5513.705842</span></span>
<span><span class="co">#&gt; 4: EuroCOVIDhub-ensemble      Deaths natural    41.42249       7.138247</span></span>
<span><span class="co">#&gt; 5: EuroCOVIDhub-baseline      Deaths natural   159.40387      65.899117</span></span>
<span><span class="co">#&gt; 6:       UMass-MechBayes      Deaths natural    52.65195       8.978601</span></span>
<span><span class="co">#&gt;    underprediction dispersion        bias interval_coverage_50</span></span>
<span><span class="co">#&gt;              &lt;num&gt;      &lt;num&gt;       &lt;num&gt;                &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1:     4237.177310 3663.52458 -0.05640625            0.3906250</span></span>
<span><span class="co">#&gt; 2:    10284.972826 4102.50094  0.09726562            0.3281250</span></span>
<span><span class="co">#&gt; 3:     3260.355639 5664.37795 -0.07890625            0.4687500</span></span>
<span><span class="co">#&gt; 4:        4.103261   30.18099  0.07265625            0.8750000</span></span>
<span><span class="co">#&gt; 5:        2.098505   91.40625  0.33906250            0.6640625</span></span>
<span><span class="co">#&gt; 6:       16.800951   26.87239 -0.02234375            0.4609375</span></span>
<span><span class="co">#&gt;    interval_coverage_90 interval_coverage_deviation   ae_median</span></span>
<span><span class="co">#&gt;                   &lt;num&gt;                       &lt;num&gt;       &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1:            0.8046875                 -0.10230114 17707.95312</span></span>
<span><span class="co">#&gt; 2:            0.8203125                 -0.11437500 32080.48438</span></span>
<span><span class="co">#&gt; 3:            0.7890625                 -0.06963068 21530.69531</span></span>
<span><span class="co">#&gt; 4:            1.0000000                  0.20380682    53.13281</span></span>
<span><span class="co">#&gt; 5:            1.0000000                  0.12142045   233.25781</span></span>
<span><span class="co">#&gt; 6:            0.8750000                 -0.02488636    78.47656</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If using <code>scoringutils</code> in your work please consider citing it using the output of <code>citation("scoringutils")</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; To cite scoringutils in publications use the following. If you use the</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; CRPS, DSS, or Log Score, please also cite scoringRules.</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Nikos I. Bosse, Hugo Gruson, Sebastian Funk, Anne Cori, Edwin van</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Leeuwen, and Sam Abbott (2022). Evaluating Forecasts with</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   scoringutils in R, arXiv. DOI: 10.48550/ARXIV.2205.07090</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; To cite scoringRules in publications use:</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Alexander Jordan, Fabian Krueger, Sebastian Lerch (2019). Evaluating</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Probabilistic Forecasts with scoringRules. Journal of Statistical</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Software, 90(12), 1-37. DOI 10.18637/jss.v090.i12</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; To see these entries in BibTeX format, use 'print(&lt;citation&gt;,</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; bibtex=TRUE)', 'toBibtex(.)', or set</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 'options(citation.bibtex.max=999)'.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="how-to-make-a-bug-report-or-feature-request">How to make a bug report or feature request<a class="anchor" aria-label="anchor" href="#how-to-make-a-bug-report-or-feature-request"></a>
</h2>
<p>Please briefly describe your problem and what output you expect in an <a href="https://github.com/epiforecasts/scoringutils/issues" class="external-link">issue</a>. If you have a question, please don’t open an issue. Instead, ask on our <a href="https://github.com/epiforecasts/scoringutils/discussions/categories/q-a" class="external-link">Q and A page</a>.</p>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>We welcome contributions and new contributors! We particularly appreciate help on priority problems in the <a href="https://github.com/epiforecasts/scoringutils/issues" class="external-link">issues</a>. Please check and add to the issues, and/or add a <a href="https://github.com/epiforecasts/scoringutils/pulls" class="external-link">pull request</a>.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the <code>scoringutils</code> project is released with a <a href="https://epiforecasts.io/scoringutils/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=scoringutils" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/epiforecasts/scoringutils/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/epiforecasts/scoringutils/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing scoringutils</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://followtheargument.org/" class="external-link">Nikos Bosse</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/https://orcid.org/0000-0002-7750-5280" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>
<a href="https://www.samabbott.co.uk/" class="external-link">Sam Abbott</a> <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-8057-8037" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Hugo Gruson <br><small class="roles"> Author </small> <a href="https://orcid.org/https://orcid.org/0000-0002-4094-1476" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Sebastian Funk <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/epiforecasts/scoringutils/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/epiforecasts/scoringutils/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/epiforecasts/scoringutils" class="external-link"><img src="https://codecov.io/github/epiforecasts/scoringutils/branch/main/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://CRAN.R-project.org/package=scoringutils" class="external-link"><img src="https://www.r-pkg.org/badges/version-ago/scoringutils" alt="CRAN_Release_Badge"></a></li>
<li><a href="https://cran.r-project.org/package=scoringutils" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/scoringutils" alt="metacran downloads"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://followtheargument.org/" class="external-link">Nikos Bosse</a>, <a href="https://www.samabbott.co.uk/" class="external-link">Sam Abbott</a>, Hugo Gruson, Sebastian Funk.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
